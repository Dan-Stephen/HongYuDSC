<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="鸿宇科技 www.hongyuvip.com"/>
    <title><?php echo APP_CHINESE_NAME ?> - 鸿宇科技 www.hongyuvip.com</title>
    <!-- Bootstrap -->
    <link href="static/css/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="static/css/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="static/css/installer/installer.css" rel="stylesheet" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="header text-center">
    <h1>
        <a href="<?php echo APP_SHOP_URL ?>" class="logo" target="_blank">
            <?php echo APP_CHINESE_NAME ?>
        </a>
    </h1>
    <ol class="step">
        <li><span>1</span> 欢迎使用</li>
        <li class="current"><span>2</span>环境检测</li>
        <li><span>3</span>初始化配置</li>
        <li><span>4</span>管理员配置</li>
        <li><span>5</span>安装成功</li>
    </ol>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <?php if(!empty($check['tips']) && count($check['tips']) > 0){ ?>
            <div class="alert mt-10  alert-danger " role="alert" id="alert_message">
                <?php foreach($check['tips'] as $tip){ ?>
                <p>* <?php echo $tip ?></p>
                <?php } ?>
            </div>
            <?php } ?>

            <h3>环境检测</h3>

            <div class="box">
                <div class="box-header with-border">
                    <h4 class="box-title">PHP版本检查</h4>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-bordered">
                        <tbody><tr>
                            <th>检查项目</th>
                            <th>当前版本</th>
                            <th>状态</th>
                        </tr>
                        <tr>
                            <td><?php echo $check['php_version']['info']['name'] ?> 版本</td>
                            <td><?php echo $check['php_version']['info']['version'] ?></td>
                            <td>
                                <?php if($check['php_version']['status'] == true){  ?>
                                <label class="label label-success">正常</label>
                                <?php }else{ ?>
                                <label class="label label-danger">出错</label>
                                <?php } ?>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="box">
                <div class="box-header with-border">
                    <h4 class="box-title">PHP扩展检查</h4>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-bordered">
                        <tbody><tr>
                            <th>检查项目</th>
                            <th>状态</th>
                        </tr>
                        <?php foreach($check['php_extensions']['info'] as $key => $value){ ?>
                        <tr>
                            <td><?php echo $key ?> 扩展</td>
                            <td>
                                <?php if($value == true){  ?>
                                <label class="label label-success">正常</label>
                                <?php }else{ ?>
                                <label class="label label-danger">出错</label>
                                <?php } ?>
                            </td>
                        </tr>
                        <?php } ?>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="box">
                <div class="box-header with-border">
                    <h4 class="box-title">php.ini参数检查</h4>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-bordered">
                        <tbody><tr>
                            <th>检查项目</th>
                            <th>状态</th>
                        </tr>
                        <?php foreach($check['php_parameter']['info'] as $key => $value){ ?>
                        <tr>
                            <td><?php echo $key ?> 参数</td>
                            <td>
                                <?php if($value == true){  ?>
                                <label class="label label-success">正常</label>
                                <?php }else{ ?>
                                <label class="label label-danger">出错</label>
                                <?php } ?>
                            </td>
                        </tr>
                        <?php } ?>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="box">
                <div class="box-header with-border">
                    <h4 class="box-title">文件夹权限检查</h4>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-bordered">
                        <tbody>
                        <tr>
                            <th>检查目录</th>
                            <th>当前权限</th>
                            <th>状态</th>
                        </tr>
                        <?php foreach($check['folder_permissions']['info'] as $value){ ?>
                        <tr>
                            <td><?php echo $value['name'] ?></td>
                            <td><?php echo $value['permissions'] ?></td>
                            <td>
                                <?php if($value['status'] == true){  ?>
                                <label class="label label-success">正常</label>
                                <?php }else{ ?>
                                <label class="label label-danger">出错</label>
                                <?php } ?>
                            </td>
                        </tr>
                        <?php } ?>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="box-footer text-center mt-10 mb-10">
                <?php if(!empty($check['tips']) && count($check['tips']) > 0){ ?>
                <!--<a class="btn btn-primary btn-lg  disabled " href="javascript:;">下一步</a>-->
                <a class="btn btn-warning btn-lg " href="config.php">忽略错误提示，继续下一步</a>
                <?php }else{ ?>
                <a class="btn btn-success btn-lg " href="config.php">下一步</a>
                <?php } ?>
                <a class="btn btn-default btn-lg" href="index.php">上一步</a>
            </div>

        </div>
    </div>
</div>


<?php include ("views/footer.html"); ?>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="static/js/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="static/css/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript"></script>
</body>
</html>